<div class="container-fluid" style="padding-right: 0px">
    <!-- <div class="col-md-3" id="facetBox">
<div ng-include src="'views/partials/facets.partial.html'"></div>
</div> -->
    <accordion close-others="false">
        <accordion-group ng-init="open=true;disabled=true" is-open="open" is-disabled="disabled">
            <accordion-heading>
                <b>{{totalItems.all}} Tasks</b> <small>({{searchMetrics['total-time']}})</small>
                <div class="col-md-4 pull-right">
                    <input type="text" ng-model="searchtask" class="form-control" style="margin-top:-8px;width:100%;" placeholder="filter">
                </div>
            </accordion-heading>
            <div class="table-responsive">
                <!-- 2 row table -->
                <table class="table table-striped table-condensed pull-left table-nowrap" ng-if="tableStyle.doubleRow">
                    <thead>
                        <tr ng-init="reverse=false">
                            <th><a href="" ng-click="reverse=!reverse; order('id', reverse)">Id</a>
                            </th>
                            <th class="hidden-xs"><a href="" ng-click="reverse=!reverse; order('severity', reverse)">Severity</a>
                            </th>
                            <th class="hidden-xs"><a href="" ng-click="reverse=!reverse; order('priority.level', reverse)">Priority</a>
                            </th>
                            <!-- <th class="hidden-xs"><a href="" ng-click="reverse=!reverse; order('submittedBy.username', reverse)">Submitted by</a>
                            </th> -->
                            <th class="hidden-xs"><a href="" ng-click="reverse=!reverse; order('category', reverse)">Category</a>
                            </th>
                            <th class="hidden-xs"><a href="" ng-click="reverse=!reverse; order('version', reverse)">Version</a>
                            </th>
                            <th class="hidden-xs"><a href="" ng-click="reverse=!reverse; order('tofixin', reverse)">Fix in</a>
                            </th>
                            <th class="hidden-xs"><a href="" ng-click="reverse=!reverse; order('status', reverse)">Status</a>
                            </th>
                            <th class="hidden-xs"><a href="" ng-click="reverse=!reverse; order('assignTo.username', reverse)">Assigned to</a>
                            </th>
                            <th class="hidden-xs"><a href="" ng-click="reverse=!reverse; order('subTasks', reverse)">Sub Tasks</a>
                            </th>
                        </tr>
                    </thead>
                    <tbody ng-repeat="task in tasks | filter:searchtask">
                        <tr>
                            <td><a ng-href="/task/{{task.id}}">{{::task.id}}</a>
                            </td>
                            <td style="max-width:120px" class="hidden-xs">{{::task.severity}}</td>
                            <td class="hidden-xs">
                                <a tooltip-trigger tooltip-placement="top" tooltip="{{task.priority.title}}" href="#">{{::task.priority.level}}</a>
                            </td>
                            <!--  <td style="max-width:200px" class="hidden-xs">{{::task.submittedBy.name}}</td> -->
                            <td class="hidden-xs">{{::task.category}}</td>
                            <td style="max-width:70px" class="hidden-xs">{{::task.version}}</td>
                            <td style="max-width:70px" class="hidden-xs">{{::task.tofixin}}</td>
                            <td class="hidden-xs">{{::task.status}}</td>
                            <td style="max-width:200px" class="hidden-xs">{{::task.assignTo.username}}</td>
                            <td style="max-width:200px" class="hidden-xs">{{::task.subTasks.length}}</td>
                        </tr>
                        <tr>
                            <td colspan=9 style="max-width: 300px">{{::task.title}}</td>
                        </tr>
                    </tbody>
                     </table>
                    <!-- 1 row table -->
                    <table class="table table-striped table-condensed pull-left table-nowrap" ng-if="tableStyle.singleRow">
                    <thead>
                        <tr ng-init="reverse=false">
                            <th><a href="" ng-click="reverse=!reverse; order('id', reverse)">Id</a>
                            </th>
                            <th class="hidden-xs"><a href="" ng-click="reverse=!reverse; order('severity', reverse)">Severity</a>
                            </th>
                            <th class="hidden-xs"><a href="" ng-click="reverse=!reverse; order('priority.level', reverse)">Priority</a>
                            </th>
                            <th class="hidden-xs"><a href="" ng-click="reverse=!reverse; order('submittedBy.username', reverse)">Submitted by</a>
                            </th>
                            <th class="hidden-xs"><a href="" ng-click="reverse=!reverse; order('category', reverse)">Category</a>
                            </th>
                            <th class="hidden-xs"><a href="" ng-click="reverse=!reverse; order('version', reverse)">Version</a>
                            </th>
                            <th class="hidden-xs"><a href="" ng-click="reverse=!reverse; order('tofixin', reverse)">Fix in</a>
                            </th>
                            <th class="hidden-xs"><a href="" ng-click="reverse=!reverse; order('status', reverse)">Status</a>
                            </th>
                            <th class="hidden-xs"><a href="" ng-click="reverse=!reverse; order('subTasks.lenth', reverse)">Sub Tasks</a>
                            </th>
                            <th class="hidden-xs"><a href="" ng-click="reverse=!reverse; order('assignTo.username', reverse)">Assigned to</a>
                            </th>
                            <th><a href="" ng-click="reverse=!reverse; order('title', reverse)">Title</a>
                            </th>
                        </tr>
                    </thead>
                    <tr ng-repeat="task in tasks">
                        <td><a ng-href="/task/{{task.id}}">{{::task.id}}</a>
                        </td>
                        <td style="max-width:120px" class="hidden-xs">{{::task.severity}}</td>
                        <td class="hidden-xs"><a class="tooltips" href>{{::task.priority.level}}<span>{{::task.priority.title}}</span></a>
                        </td>
                        <td style="max-width:200px" class="hidden-xs">{{::task.submittedBy.username}}</td>
                        <td class="hidden-xs">{{::task.category}}</td>
                        <td style="max-width:70px" class="hidden-xs">{{::task.version}}</td>
                        <td style="max-width:70px" class="hidden-xs">{{::task.tofixin}}</td>
                        <td class="hidden-xs">{{::task.status}}</td>
                        <td class="hidden-xs">{{::task.subTasks.length}}</td>
                        <td style="max-width:200px" class="hidden-xs">{{::task.assignTo.username}}</td>
                        <td style="max-width: 300px">{{::task.title}}</td>
                    </tr>
               </table>
            </div>
        </accordion-group>
    </accordion>
    <div class="col-xs-12 col-sm-12 col-md-10">
        <div class="container text-center">
            <pagination id="pager" total-items="totalItems.all" items-per-page="pageLength" ng-model="currentPage" ng-click="gotoPage(currentPage)" ng-hide="totalItems.tasks < pageLength" max-size="10" rotate="false" direction-links="false" boundary-links="true"></pagination>
        </div>
    </div>
</div>
