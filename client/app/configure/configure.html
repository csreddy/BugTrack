<div ng-include="'components/navbar/navbar.html'"></div>
<div class="container-fluid">
    <legend>Configure Bug Field Options</legend>
    <div class="row">
        <!-- Users -->
        <!-- <div class="col-md-3">
            <form class="form-horizontal">
                <fieldset>
                    
                    <label>Users ({{config.users.length}})</label>

                    
                    <div class="form-group">
                        <select ng-model="users" id="users" name="users" class="form-control " multiple="multiple" style="height: 500px;">
                            <option ng-repeat="user in config.users" value="{{user}}">
                                {{user.name}} - {{user.email}} </option>
                        </select>
                    </div>

                    
                    <div class="form-group">
                        <input ng-model="newuseremail" id="newuseremail" name="newuseremail" type="text" placeholder="email" class="form-control input-md">
                        <br>
                        <input ng-model="newusername" id="newusername" name="newusername" type="text" placeholder="full name" class="form-control input-md">
                        <br>
                        <input ng-model="newuserusername" id="newuserusername" name="newuserusername" type="text" placeholder=" username" class="form-control input-md">
                        <span class="help-block">help</span>
                    </div>

                    
                    <div class="form-group">
                        <button ng-click="addUser(newuseremail, newusername, newuserusername)" id="addnewuser" name="addnewuser" class="btn btn-sm btn-success">Add</button>
                        <button ng-click="deleteUser(users)" id="deleteuser" name="deleteuser" class="btn btn-sm btn-danger">Delete</button>
                    </div>

                </fieldset>
            </form>
        </div> -->

        <div class="col-md-2 col-md-offset-1">
            <form class="form-horizontal">
                <fieldset>
                    <!-- Form Name -->
                    <label>Kind ({{config.kind.length}})</label>

                    <!-- Select Multiple -->
                    <div class="form-group">
                        <input type="search" ng-model="searchKind" class="form-control" placeholder="search kind">
                        <br>
                        <select ng-model="kind" id="kind" name="kind" class="form-control" multiple="multiple">
                            <option ng-repeat="kind in config.kind.sort() | filter:searchKind" value="{{kind}}">{{kind}}</option>
                        </select>
                    </div>

                    <!-- Text input -->
                    <div class="form-group">
                        <input ng-model="newItem.kind" id="newkind" name="newkind" type="text" placeholder="new kind" class="form-control input-md">
                        <span class="help-block">help</span>
                    </div>

                    <!-- Button (Double) -->
                    <div class="form-group">
                        <button ng-click="updateConfigOptions('kind', newItem.kind, 'add')" id="addnewkind" name="addnewkind" class="btn btn-sm btn-success">Add</button>
                        <button ng-click="updateConfigOptions('kind', kind, 'delete')" id="deletekind" name="deletekind" class="btn btn-sm btn-danger">Delete</button>
                    </div>

                </fieldset>
            </form>
        </div>


        <div class="col-md-2 col-md-offset-1">
            <form class="form-horizontal">
                <fieldset>
                    <!-- Form Name -->
                    <label>Platforms ({{config.platform.length}})</label>

                    <!-- Select Multiple -->
                    <div class="form-group">
                        <input type="search" ng-model="searchPlatform" class="form-control" placeholder="search platform">
                        <br>
                        <select ng-model="platform" id="platform" name="platform" class="form-control" multiple="multiple">
                            <option ng-repeat="platform in config.platform | filter:searchPlatform" value="{{platform}}">{{platform}}</option>
                        </select>
                    </div>

                    <!-- Text input -->
                    <div class="form-group">
                        <input ng-model="newItem.platform" id="newplatform" name="newplatform" type="text" placeholder="new platform" class="form-control input-md">
                        <span class="help-block">help</span>
                    </div>

                    <!-- Button (Double) addPlatform(newplatform) -->
                    <div class="form-group">
                        <button ng-click="updateConfigOptions('platform', newItem.platform, 'add' )" id="addnewplatform" name="addnewplatform" class="btn btn-sm btn-success">Add</button>
                        <button ng-click="updateConfigOptions('platform', platform, 'delete')" id="deleteplatform" name="deleteplatform" class="btn btn-sm btn-danger">Delete</button>
                    </div>

                </fieldset>
            </form>
        </div>

        <div class="col-md-2 col-md-offset-1">
            <form class="form-horizontal">
                <fieldset>
                    <!-- Form Name -->
                    <label>Status ({{config.status.length}})</label>

                    <!-- Select Multiple -->
                    <div class="form-group">
                        <input type="search" ng-model="searchStatus" class="form-control" placeholder="search status">
                        <br>
                        <select ng-model="status" id="status" name="status" class="form-control" multiple="multiple">
                            <option ng-repeat="status in config.status.sort() | filter:searchStatus" value="{{status}}">{{status}}</option>
                        </select>
                    </div>

                    <!-- Text input-->
                    <div class="form-group">
                        <input ng-model="newItem.status" id="newstatus" name="newstatus" type="text" placeholder="new status" class="form-control input-md">
                        <span class="help-block">help</span>
                    </div>

                    <!-- Button (Double) -->
                    <div class="form-group">
                        <button ng-click="updateConfigOptions('status',newItem.status, 'add')" id="addnewstatus" name="addnewstatus" class="btn btn-sm btn-success">Add</button>
                        <button ng-click="updateConfigOptions('status',status, 'delete')" id="deleteStatus" name="deletestatus" class="btn btn-sm btn-danger">Delete</button>
                    </div>

                </fieldset>
            </form>
        </div>
        <div class="col-md-2 col-md-offset-1">
            <form class="form-horizontal">
                <fieldset>
                    <!-- Form Name -->
                    <label>Categories ({{config.category.length}})</label>

                    <!-- Select Multiple -->
                    <div class="form-group">
                        <input type="search" ng-model="searchCategory" class="form-control" placeholder="search category">
                        <br>
                        <select ng-model="category" id="category" name="category" class="form-control" multiple="multiple">
                            <option ng-repeat="category in config.category.sort() | filter:searchCategory" value="{{category}}">{{category}}</option>
                        </select>
                    </div>

                    <!-- Text input-->
                    <div class="form-group">
                        <input ng-model="newItem.category" id="newcategory" name="newcategory" type="text" placeholder="new category" class="form-control input-md">
                        <span class="help-block">help</span>
                    </div>

                    <!-- Button (Double) -->
                    <div class="form-group">
                        <button ng-click="updateConfigOptions('category', newItem.category, 'add')" id="addNewCategory" name="addNewCategory" class="btn btn-sm btn-success">Add</button>
                        <button ng-click="updateConfigOptions('category',category, 'delete')" id="deleteCategory" name="deleteCategory" class="btn btn-sm btn-danger">Delete</button>
                    </div>

                </fieldset>
            </form>
        </div>

        <div class="col-md-2 col-md-offset-1">
            <form class="form-horizontal">
                <fieldset>
                    <!-- Form Name -->
                    <label>Versions ({{config.version.length}})</label>

                    <!-- Select Multiple -->
                    <div class="form-group">
                        <input type="search" ng-model="searchVersion" class="form-control" placeholder="search user">
                        <br>
                        <select ng-model="version" id="version" name="version" class="form-control" multiple="multiple">
                            <option ng-repeat="version in config.version.sort() | filter:searchVersion" value="{{version}}">{{version}}</option>
                        </select>
                    </div>

                    <!-- Text input-->
                    <div class="form-group">
                        <input ng-model="newItem.version" id="newversion" name="newversion" type="text" placeholder="new version" class="form-control input-md">
                        <span class="help-block">help</span>
                    </div>

                    <!-- Button (Double) -->
                    <div class="form-group">
                        <button ng-click="updateConfigOptions('version', newItem.version, 'add')" id="newversion" name="newversion" class="btn btn-sm btn-success">Add</button>
                        <button ng-click="updateConfigOptions('version', version, 'delete')" id="deleteversion" name="deleteversion" class="btn btn-sm btn-danger">Delete</button>
                    </div>

                </fieldset>
            </form>
        </div>

        <div class="col-md-2 col-md-offset-1">
            <form class="form-horizontal">
                <fieldset>
                    <!-- Form Name -->
                    <label>To fix in ({{config.tofixin.length}})</label>

                    <!-- Select Multiple -->
                    <div class="form-group">
                        <input type="search" ng-model="searchTofixin" class="form-control" placeholder="search tofixin">
                        <br>
                        <select ng-model="tofixins" id="tofixins" name="tofixins" class="form-control" multiple="multiple">
                            <option ng-repeat="tofixin in config.tofixin.sort() | filter:searchTofixin" value="{{tofixin}}">{{tofixin}}</option>
                        </select>
                    </div>

                    <!-- Text input-->
                    <div class="form-group">
                        <input ng-model="newItem.tofixin" id="newtofixin" name="newtofixin" type="text" placeholder="new fix-in version" class="form-control input-md">
                        <span class="help-block">help</span>
                    </div>

                    <!-- Button (Double) -->
                    <div class="form-group">
                        <button ng-click="updateConfigOptions('tofixin',newItem.tofixin, 'add')" id="addnewfixin" name="addnewfixin" class="btn btn-sm btn-success">Add</button>
                        <button ng-click="updateConfigOptions('tofixin', tofixins, 'delete')" id="deletefixin" name="deletefixin" class="btn btn-sm btn-danger">Delete</button>
                    </div>

                </fieldset>
            </form>
        </div>
        <div class="col-md-2 col-md-offset-1">
            <form class="form-horizontal">
                <fieldset>
                    <!-- Form Name -->
                    <label>Severity ({{config.severity.length}})</label>

                    <!-- Select Multiple -->
                    <div class="form-group">
                        <input type="search" ng-model="searchSeverity" class="form-control" placeholder="search severity">
                        <br>
                        <select ng-model="severity" id="severity" name="severity" class="form-control" multiple="multiple">
                            <option ng-repeat="severity in config.severity.sort() | filter:searchSeverity" value="{{severity}}">{{severity}}</option>
                        </select>
                    </div>

                    <!-- Text input -->
                    <div class="form-group">
                        <input ng-model="newItem.severity" id="newseverity" name="newseverity" type="text" placeholder="new severity" class="form-control input-md">
                        <span class="help-block">help</span>
                    </div>

                    <!-- Button (Double) -->
                    <div class="form-group">
                        <button ng-click="updateConfigOptions('severity', newItem.severity, 'add')" id="addnewseverity" name="addnewseverity" class="btn btn-sm btn-success">Add</button>
                        <button ng-click="updateConfigOptions('severity',severity, 'delete')" id="deleteseverity" name="deleteseverity" class="btn btn-sm btn-danger">Delete</button>
                    </div>

                </fieldset>
            </form>
        </div>
    </div>
    <hr>
    <div class="col-md-3 col-md-offset-1" style="margin-top: 10px;">
        <form class="form-horizontal">
            <fieldset>
                <!-- Form Name -->
                <label>Users ({{config.users.length}})</label>



                <div class="form-group">
                    <input type="search" ng-model="searchUser" class="form-control" placeholder="search user/group">
                    <br>
                    <select ng-model="users" id="users" name="users" class="form-control " multiple="multiple" style="height: 500px;">
                        <optgroup label="Groups">
                            <option ng-repeat="group in config.groups | filter:searchUser" value="{{group.value}}">{{group.value}}</option>
                        </optgroup>
                        <optgroup label="Users">
                            <option ng-repeat="user in config.users | filter:searchUser" value="{{user}}">
                                {{user.name}} - {{user.email}} </option>
                        </optgroup>
                    </select>
                </div>

                <!-- Select input -->
                <div class="form-group">
                    <select name="grouplist" id="grouplist" ng-model="groupname" ng-options="group.value for group in config.groups" class="form-control"></select>
                    <span class="help-block">help</span>
                </div>

                <!-- Button (Double) -->
                <div class="form-group">
                    <button ng-click="addUsersToGroup(groupname.value, users)" id="adduser" name="adduser" class="btn btn-sm btn-success">Add</button>
                    <button ng-click="removeUsersFromGroup(groupname.value, users)" id="deleteuser" name="deleteuser" class="btn btn-sm btn-danger">Delete</button>
                </div>

            </fieldset>
        </form>
    </div>

    <div class="col-md-3 col-md-offset-1" style="margin-top: 10px;">
        <label>Groups ({{config.groups.length}})</label>
        <input type="search" ng-model="searchGroupTree" class="form-control" placeholder="search group">
        <small><a href="" ng-click="expand()" class="pull-left" style="padding-top:5px;"><span class="glyphicon glyphicon-expand" aria-hidden="true"></span>Expand</a></small>
        <small><a href="" ng-click="collapse()" class="pull-right" style="padding-top:5px;"><span class="glyphicon glyphicon-collapse-down" aria-hidden="true"></span>Collapse</a></small>
        <br>
        <div ivh-treeview="config.groups" ivh-treeview-filter="searchGroupTree" ivh-treeview-expand-to-depth="1" ivh-treeview-validate="false" ivh-treeview-change-handler="selectUsers"></div>
        <div class="form-group">
            <button ng-click="removeUsersFromGroup(node, isSelected, tree)" id="deletegroup" name="deletegroup" class="btn btn-sm btn-danger">Delete</button>

        </div>
    </div>

    <div class="col-md-1 col-md-offset-1" style="margin-top: 10px;">
        <form class="form-horizontal">
            <fieldset>
                <!-- Form Name -->
                <label>Groups ({{config.groups.length}})</label>

                <!-- Select Multiple -->
                <div class="form-group">
                    <input type="search" ng-model="searchGroup" class="form-control" placeholder="search group">
                    <span class="fornav"><i class="icon-search"></i></span>
                    <br>
                    <select ng-model="group" id="group" name="group" class="form-control" multiple="multiple">
                        <option ng-repeat="group in config.groups | filter:searchGroup" value="{{group}}">{{group.value}}</option>
                    </select>
                </div>

                <!-- Text input -->
                <div class="form-group">
                    <input ng-model="newItem.group" id="newgroup" name="newgroup" type="text" placeholder="new group" class="form-control input-md">
                    <span class="help-block">help</span>
                </div>

                <!-- Button (Double) -->
                <div class="form-group">
                    <button ng-click="updateConfigOptions('groups', newItem.group, 'add')" id="addnewgroup" name="addnewgroup" class="btn btn-sm btn-success">Add</button>
                    <button ng-click="updateConfigOptions('groups', group, 'delete')" id="deletegroup" name="deletegroup" class="btn btn-sm btn-danger">Delete</button>
                </div>

            </fieldset>
        </form>
    </div>

</div>
